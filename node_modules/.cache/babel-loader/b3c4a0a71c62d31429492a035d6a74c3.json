{"ast":null,"code":"var _jsxFileName = \"D:\\\\my\\\\Projects\\\\Star Wars Wiki App\\\\star-wars-app\\\\src\\\\components\\\\SearchBar\\\\SearchBar.jsx\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport { alpha, makeStyles } from '@material-ui/core/styles';\nimport { useState, useEffect } from 'react';\nimport { getApiResources } from '@utils/network';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputBase from '@material-ui/core/InputBase';\nimport { withErrorApi } from '@hoc-helpers/withErrorApi';\nimport PeopleList from '@components/PeoplePage/PeopleList';\nimport { useQueryParams } from '@hooks/useQueryParams';\nimport { getPageId } from '@services/getPeopleData';\nimport PeopleNav from '@components/PeoplePage/PeopleNav';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  search: {\n    margin: theme.spacing(1),\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: alpha(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    margin: '10px',\n    marginBottom: '30px',\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch'\n      }\n    }\n  }\n}));\n\nfunction SearchBar({\n  url,\n  getId,\n  getImg,\n  setApiError\n}) {\n  _s();\n\n  const classes = useStyles();\n  const [inputSearchValue, setInputSearchValue] = useState('');\n  const [data, setData] = useState([]); // prev && next page \n\n  const [prev, setPrev] = useState(null);\n  const [next, setNext] = useState(null);\n  const [counterPage, setCounterPage] = useState(1);\n  const query = useQueryParams();\n  const queryPage = query.get('page');\n\n  const getResponse = async params => {\n    const res = await getApiResources(url + params);\n\n    if (res) {\n      const dataList = res.results.map(({\n        name,\n        url\n      }) => {\n        const id = getId(url);\n        const img = getImg(id);\n        return {\n          id,\n          name,\n          img\n        };\n      });\n      setData(dataList);\n      setPrev(res.previous);\n      setNext(res.next);\n      setCounterPage(getPageId(url));\n      setApiError(false);\n    } else {\n      setApiError(true);\n    }\n  };\n\n  useEffect(() => {\n    getResponse('');\n    getResources(API_PEOPLE + queryPage);\n  }, []);\n\n  const handleInputChange = event => {\n    const value = event.target.value;\n    setInputSearchValue(value);\n    getResponse(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.search,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.searchIcon,\n        children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n        placeholder: \"Search\\u2026\",\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput\n        },\n        inputProps: {\n          'aria-label': 'search'\n        },\n        value: inputSearchValue,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PeopleNav, {\n      resource: 'people',\n      getResources: getResources,\n      prev: prev,\n      next: next,\n      counterPage: counterPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), data && /*#__PURE__*/_jsxDEV(PeopleList, {\n      data: data,\n      link: 'people'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SearchBar, \"2n/KqqoPOavo0//+cRYe/jbnR6E=\", false, function () {\n  return [useStyles, useQueryParams];\n});\n\n_c = SearchBar;\nSearchBar.propTypes = {\n  setApiError: PropTypes.func\n};\nexport default _c2 = withErrorApi(SearchBar);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SearchBar\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["D:/my/Projects/Star Wars Wiki App/star-wars-app/src/components/SearchBar/SearchBar.jsx"],"names":["PropTypes","alpha","makeStyles","useState","useEffect","getApiResources","SearchIcon","InputBase","withErrorApi","PeopleList","useQueryParams","getPageId","PeopleNav","useStyles","theme","root","margin","spacing","search","position","borderRadius","shape","backgroundColor","palette","common","white","marginLeft","marginBottom","width","breakpoints","up","searchIcon","padding","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","SearchBar","url","getId","getImg","setApiError","classes","inputSearchValue","setInputSearchValue","data","setData","prev","setPrev","next","setNext","counterPage","setCounterPage","query","queryPage","get","getResponse","params","res","dataList","results","map","name","id","img","previous","getResources","API_PEOPLE","handleInputChange","event","value","target","input","propTypes","func"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { alpha, makeStyles } from '@material-ui/core/styles';\r\nimport { useState, useEffect } from 'react';\r\nimport { getApiResources } from '@utils/network';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport { withErrorApi } from '@hoc-helpers/withErrorApi';\r\nimport PeopleList from '@components/PeoplePage/PeopleList';\r\nimport { useQueryParams } from '@hooks/useQueryParams';\r\nimport { getPageId } from '@services/getPeopleData';\r\nimport PeopleNav from '@components/PeoplePage/PeopleNav';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    search: {\r\n        margin: theme.spacing(1),\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        margin: '10px',\r\n        marginBottom: '30px',\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\n\r\nfunction SearchBar({ url, getId, getImg, setApiError }) {\r\n    const classes = useStyles();\r\n\r\n    const [inputSearchValue, setInputSearchValue] = useState('');\r\n    const [data, setData] = useState([]);\r\n\r\n    // prev && next page \r\n    const [prev, setPrev] = useState(null);\r\n    const [next, setNext] = useState(null);\r\n\r\n    const [counterPage, setCounterPage] = useState(1);\r\n\r\n    const query = useQueryParams();\r\n    const queryPage = query.get('page');\r\n\r\n    const getResponse = async params => {\r\n        const res = await getApiResources(url + params);\r\n\r\n        if (res) {\r\n            const dataList = res.results.map(({ name, url }) => {\r\n                const id = getId(url);\r\n                const img = getImg(id);\r\n\r\n                return {\r\n                    id,\r\n                    name,\r\n                    img\r\n                }\r\n            });\r\n\r\n            setData(dataList);\r\n            setPrev(res.previous);\r\n            setNext(res.next);\r\n            setCounterPage(getPageId(url));\r\n            setApiError(false);\r\n        } else {\r\n            setApiError(true);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getResponse('');\r\n        getResources(API_PEOPLE + queryPage);\r\n    }, []);\r\n\r\n    const handleInputChange = (event) => {\r\n        const value = event.target.value\r\n\r\n        setInputSearchValue(value);\r\n        getResponse(value);\r\n    }\r\n\r\n    return (\r\n        <>\r\n\r\n            <div className={classes.search}>\r\n                <div className={classes.searchIcon}>\r\n                    <SearchIcon />\r\n                </div>\r\n                <InputBase\r\n                    placeholder=\"Search…\"\r\n                    classes={{\r\n                        root: classes.inputRoot,\r\n                        input: classes.inputInput,\r\n                    }}\r\n                    inputProps={{ 'aria-label': 'search' }}\r\n\r\n                    value={inputSearchValue}\r\n                    onChange={handleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <PeopleNav\r\n                resource={'people'}\r\n                getResources={getResources}\r\n                prev={prev}\r\n                next={next}\r\n                counterPage={counterPage}\r\n            />\r\n\r\n            {data && (\r\n                <PeopleList data={data} link={'people'} />\r\n            )}\r\n        </>\r\n    );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n    setApiError: PropTypes.func\r\n}\r\n\r\nexport default withErrorApi(SearchBar);"]},"metadata":{},"sourceType":"module"}