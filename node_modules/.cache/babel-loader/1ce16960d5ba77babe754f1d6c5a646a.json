{"ast":null,"code":"var jsReleases = require('node-releases/data/processed/envs.json');\n\nvar agents = require('caniuse-lite/dist/unpacker/agents').agents;\n\nvar jsEOL = require('node-releases/data/release-schedule/release-schedule.json');\n\nvar path = require('path');\n\nvar e2c = require('electron-to-chromium/versions');\n\nvar BrowserslistError = require('./error');\n\nvar env = require('./node'); // Will load browser.js in webpack\n\n\nvar YEAR = 365.259641 * 24 * 60 * 60 * 1000;\nvar ANDROID_EVERGREEN_FIRST = 37;\nvar QUERY_OR = 1;\nvar QUERY_AND = 2;\n\nfunction isVersionsMatch(versionA, versionB) {\n  return (versionA + '.').indexOf(versionB + '.') === 0;\n}\n\nfunction isEolReleased(name) {\n  var version = name.slice(1);\n  return jsReleases.some(function (i) {\n    return isVersionsMatch(i.version, version);\n  });\n}\n\nfunction normalize(versions) {\n  return versions.filter(function (version) {\n    return typeof version === 'string';\n  });\n}\n\nfunction normalizeElectron(version) {\n  var versionToUse = version;\n\n  if (version.split('.').length === 3) {\n    versionToUse = version.split('.').slice(0, -1).join('.');\n  }\n\n  return versionToUse;\n}\n\nfunction nameMapper(name) {\n  return function mapName(version) {\n    return name + ' ' + version;\n  };\n}\n\nfunction getMajor(version) {\n  return parseInt(version.split('.')[0]);\n}\n\nfunction getMajorVersions(released, number) {\n  if (released.length === 0) return [];\n  var majorVersions = uniq(released.map(getMajor));\n  var minimum = majorVersions[majorVersions.length - number];\n\n  if (!minimum) {\n    return released;\n  }\n\n  var selected = [];\n\n  for (var i = released.length - 1; i >= 0; i--) {\n    if (minimum > getMajor(released[i])) break;\n    selected.unshift(released[i]);\n  }\n\n  return selected;\n}\n\nfunction uniq(array) {\n  var filtered = [];\n\n  for (var i = 0; i < array.length; i++) {\n    if (filtered.indexOf(array[i]) === -1) filtered.push(array[i]);\n  }\n\n  return filtered;\n} // Helpers\n\n\nfunction fillUsage(result, name, data) {\n  for (var i in data) {\n    result[name + ' ' + i] = data[i];\n  }\n}\n\nfunction generateFilter(sign, version) {\n  version = parseFloat(version);\n\n  if (sign === '>') {\n    return function (v) {\n      return parseFloat(v) > version;\n    };\n  } else if (sign === '>=') {\n    return function (v) {\n      return parseFloat(v) >= version;\n    };\n  } else if (sign === '<') {\n    return function (v) {\n      return parseFloat(v) < version;\n    };\n  } else {\n    return function (v) {\n      return parseFloat(v) <= version;\n    };\n  }\n}\n\nfunction generateSemverFilter(sign, version) {\n  version = version.split('.').map(parseSimpleInt);\n  version[1] = version[1] || 0;\n  version[2] = version[2] || 0;\n\n  if (sign === '>') {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt);\n      return compareSemver(v, version) > 0;\n    };\n  } else if (sign === '>=') {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt);\n      return compareSemver(v, version) >= 0;\n    };\n  } else if (sign === '<') {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt);\n      return compareSemver(version, v) > 0;\n    };\n  } else {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt);\n      return compareSemver(version, v) >= 0;\n    };\n  }\n}\n\nfunction parseSimpleInt(x) {\n  return parseInt(x);\n}\n\nfunction compare(a, b) {\n  if (a < b) return -1;\n  if (a > b) return +1;\n  return 0;\n}\n\nfunction compareSemver(a, b) {\n  return compare(parseInt(a[0]), parseInt(b[0])) || compare(parseInt(a[1] || '0'), parseInt(b[1] || '0')) || compare(parseInt(a[2] || '0'), parseInt(b[2] || '0'));\n} // this follows the npm-like semver behavior\n\n\nfunction semverFilterLoose(operator, range) {\n  range = range.split('.').map(parseSimpleInt);\n\n  if (typeof range[1] === 'undefined') {\n    range[1] = 'x';\n  } // ignore any patch version because we only return minor versions\n  // range[2] = 'x'\n\n\n  switch (operator) {\n    case '<=':\n      return function (version) {\n        version = version.split('.').map(parseSimpleInt);\n        return compareSemverLoose(version, range) <= 0;\n      };\n\n    default:\n    case '>=':\n      return function (version) {\n        version = version.split('.').map(parseSimpleInt);\n        return compareSemverLoose(version, range) >= 0;\n      };\n  }\n} // this follows the npm-like semver behavior\n\n\nfunction compareSemverLoose(version, range) {\n  if (version[0] !== range[0]) {\n    return version[0] < range[0] ? -1 : +1;\n  }\n\n  if (range[1] === 'x') {\n    return 0;\n  }\n\n  if (version[1] !== range[1]) {\n    return version[1] < range[1] ? -1 : +1;\n  }\n\n  return 0;\n}\n\nfunction resolveVersion(data, version) {\n  if (data.versions.indexOf(version) !== -1) {\n    return version;\n  } else if (browserslist.versionAliases[data.name][version]) {\n    return browserslist.versionAliases[data.name][version];\n  } else {\n    return false;\n  }\n}\n\nfunction normalizeVersion(data, version) {\n  var resolved = resolveVersion(data, version);\n\n  if (resolved) {\n    return resolved;\n  } else if (data.versions.length === 1) {\n    return data.versions[0];\n  } else {\n    return false;\n  }\n}\n\nfunction filterByYear(since, context) {\n  since = since / 1000;\n  return Object.keys(agents).reduce(function (selected, name) {\n    var data = byName(name, context);\n    if (!data) return selected;\n    var versions = Object.keys(data.releaseDate).filter(function (v) {\n      return data.releaseDate[v] >= since;\n    });\n    return selected.concat(versions.map(nameMapper(data.name)));\n  }, []);\n}\n\nfunction cloneData(data) {\n  return {\n    name: data.name,\n    versions: data.versions,\n    released: data.released,\n    releaseDate: data.releaseDate\n  };\n}\n\nfunction mapVersions(data, map) {\n  data.versions = data.versions.map(function (i) {\n    return map[i] || i;\n  });\n  data.released = data.versions.map(function (i) {\n    return map[i] || i;\n  });\n  var fixedDate = {};\n\n  for (var i in data.releaseDate) {\n    fixedDate[map[i] || i] = data.releaseDate[i];\n  }\n\n  data.releaseDate = fixedDate;\n  return data;\n}\n\nfunction byName(name, context) {\n  name = name.toLowerCase();\n  name = browserslist.aliases[name] || name;\n\n  if (context.mobileToDesktop && browserslist.desktopNames[name]) {\n    var desktop = browserslist.data[browserslist.desktopNames[name]];\n\n    if (name === 'android') {\n      return normalizeAndroidData(cloneData(browserslist.data[name]), desktop);\n    } else {\n      var cloned = cloneData(desktop);\n      cloned.name = name;\n\n      if (name === 'op_mob') {\n        cloned = mapVersions(cloned, {\n          '10.0-10.1': '10'\n        });\n      }\n\n      return cloned;\n    }\n  }\n\n  return browserslist.data[name];\n}\n\nfunction normalizeAndroidVersions(androidVersions, chromeVersions) {\n  var firstEvergreen = ANDROID_EVERGREEN_FIRST;\n  var last = chromeVersions[chromeVersions.length - 1];\n  return androidVersions.filter(function (version) {\n    return /^(?:[2-4]\\.|[34]$)/.test(version);\n  }).concat(chromeVersions.slice(firstEvergreen - last - 1));\n}\n\nfunction normalizeAndroidData(android, chrome) {\n  android.released = normalizeAndroidVersions(android.released, chrome.released);\n  android.versions = normalizeAndroidVersions(android.versions, chrome.versions);\n  return android;\n}\n\nfunction checkName(name, context) {\n  var data = byName(name, context);\n  if (!data) throw new BrowserslistError('Unknown browser ' + name);\n  return data;\n}\n\nfunction unknownQuery(query) {\n  return new BrowserslistError('Unknown browser query `' + query + '`. ' + 'Maybe you are using old Browserslist or made typo in query.');\n}\n\nfunction filterAndroid(list, versions, context) {\n  if (context.mobileToDesktop) return list;\n  var released = browserslist.data.android.released;\n  var last = released[released.length - 1];\n  var diff = last - ANDROID_EVERGREEN_FIRST - versions;\n\n  if (diff > 0) {\n    return list.slice(-1);\n  } else {\n    return list.slice(diff - 1);\n  }\n}\n/**\n * Resolves queries into a browser list.\n * @param {string|string[]} queries Queries to combine.\n * Either an array of queries or a long string of queries.\n * @param {object} [context] Optional arguments to\n * the select function in `queries`.\n * @returns {string[]} A list of browsers\n */\n\n\nfunction resolve(queries, context) {\n  if (Array.isArray(queries)) {\n    queries = flatten(queries.map(parse));\n  } else {\n    queries = parse(queries);\n  }\n\n  return queries.reduce(function (result, query, index) {\n    var selection = query.queryString;\n    var isExclude = selection.indexOf('not ') === 0;\n\n    if (isExclude) {\n      if (index === 0) {\n        throw new BrowserslistError('Write any browsers query (for instance, `defaults`) ' + 'before `' + selection + '`');\n      }\n\n      selection = selection.slice(4);\n    }\n\n    for (var i = 0; i < QUERIES.length; i++) {\n      var type = QUERIES[i];\n      var match = selection.match(type.regexp);\n\n      if (match) {\n        var args = [context].concat(match.slice(1));\n        var array = type.select.apply(browserslist, args).map(function (j) {\n          var parts = j.split(' ');\n\n          if (parts[1] === '0') {\n            return parts[0] + ' ' + byName(parts[0], context).versions[0];\n          } else {\n            return j;\n          }\n        });\n\n        switch (query.type) {\n          case QUERY_AND:\n            if (isExclude) {\n              return result.filter(function (j) {\n                return array.indexOf(j) === -1;\n              });\n            } else {\n              return result.filter(function (j) {\n                return array.indexOf(j) !== -1;\n              });\n            }\n\n          case QUERY_OR:\n          default:\n            if (isExclude) {\n              var filter = {};\n              array.forEach(function (j) {\n                filter[j] = true;\n              });\n              return result.filter(function (j) {\n                return !filter[j];\n              });\n            }\n\n            return result.concat(array);\n        }\n      }\n    }\n\n    throw unknownQuery(selection);\n  }, []);\n}\n\nvar cache = {};\n/**\n * Return array of browsers by selection queries.\n *\n * @param {(string|string[])} [queries=browserslist.defaults] Browser queries.\n * @param {object} [opts] Options.\n * @param {string} [opts.path=\".\"] Path to processed file.\n *                                 It will be used to find config files.\n * @param {string} [opts.env=\"production\"] Processing environment.\n *                                         It will be used to take right\n *                                         queries from config file.\n * @param {string} [opts.config] Path to config file with queries.\n * @param {object} [opts.stats] Custom browser usage statistics\n *                              for \"> 1% in my stats\" query.\n * @param {boolean} [opts.ignoreUnknownVersions=false] Do not throw on unknown\n *                                                     version in direct query.\n * @param {boolean} [opts.dangerousExtend] Disable security checks\n *                                         for extend query.\n * @param {boolean} [opts.mobileToDesktop] Alias mobile browsers to the desktop\n *                                         version when Can I Use doesn't have\n *                                         data about the specified version.\n * @returns {string[]} Array with browser names in Can I Use.\n *\n * @example\n * browserslist('IE >= 10, IE 8') //=> ['ie 11', 'ie 10', 'ie 8']\n */\n\nfunction browserslist(queries, opts) {\n  if (typeof opts === 'undefined') opts = {};\n\n  if (typeof opts.path === 'undefined') {\n    opts.path = path.resolve ? path.resolve('.') : '.';\n  }\n\n  if (typeof queries === 'undefined' || queries === null) {\n    var config = browserslist.loadConfig(opts);\n\n    if (config) {\n      queries = config;\n    } else {\n      queries = browserslist.defaults;\n    }\n  }\n\n  if (!(typeof queries === 'string' || Array.isArray(queries))) {\n    throw new BrowserslistError('Browser queries must be an array or string. Got ' + typeof queries + '.');\n  }\n\n  var context = {\n    ignoreUnknownVersions: opts.ignoreUnknownVersions,\n    dangerousExtend: opts.dangerousExtend,\n    mobileToDesktop: opts.mobileToDesktop,\n    path: opts.path,\n    env: opts.env\n  };\n  env.oldDataWarning(browserslist.data);\n  var stats = env.getStat(opts, browserslist.data);\n\n  if (stats) {\n    context.customUsage = {};\n\n    for (var browser in stats) {\n      fillUsage(context.customUsage, browser, stats[browser]);\n    }\n  }\n\n  var cacheKey = JSON.stringify([queries, context]);\n  if (cache[cacheKey]) return cache[cacheKey];\n  var result = uniq(resolve(queries, context)).sort(function (name1, name2) {\n    name1 = name1.split(' ');\n    name2 = name2.split(' ');\n\n    if (name1[0] === name2[0]) {\n      // assumptions on caniuse data\n      // 1) version ranges never overlaps\n      // 2) if version is not a range, it never contains `-`\n      var version1 = name1[1].split('-')[0];\n      var version2 = name2[1].split('-')[0];\n      return compareSemver(version2.split('.'), version1.split('.'));\n    } else {\n      return compare(name1[0], name2[0]);\n    }\n  });\n\n  if (!process.env.BROWSERSLIST_DISABLE_CACHE) {\n    cache[cacheKey] = result;\n  }\n\n  return result;\n}\n\nfunction parse(queries) {\n  var qs = [];\n\n  do {\n    queries = doMatch(queries, qs);\n  } while (queries);\n\n  return qs;\n}\n\nfunction doMatch(string, qs) {\n  var or = /^(?:,\\s*|\\s+or\\s+)(.*)/i;\n  var and = /^\\s+and\\s+(.*)/i;\n  return find(string, function (parsed, n, max) {\n    if (and.test(parsed)) {\n      qs.unshift({\n        type: QUERY_AND,\n        queryString: parsed.match(and)[1]\n      });\n      return true;\n    } else if (or.test(parsed)) {\n      qs.unshift({\n        type: QUERY_OR,\n        queryString: parsed.match(or)[1]\n      });\n      return true;\n    } else if (n === max) {\n      qs.unshift({\n        type: QUERY_OR,\n        queryString: parsed.trim()\n      });\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction find(string, predicate) {\n  for (var n = 1, max = string.length; n <= max; n++) {\n    var parsed = string.substr(-n, n);\n\n    if (predicate(parsed, n, max)) {\n      return string.slice(0, -n);\n    }\n  }\n\n  return '';\n}\n\nfunction flatten(array) {\n  if (!Array.isArray(array)) return [array];\n  return array.reduce(function (a, b) {\n    return a.concat(flatten(b));\n  }, []);\n} // Will be filled by Can I Use data below\n\n\nbrowserslist.cache = {};\nbrowserslist.data = {};\nbrowserslist.usage = {\n  global: {},\n  custom: null\n}; // Default browsers query\n\nbrowserslist.defaults = ['> 0.5%', 'last 2 versions', 'Firefox ESR', 'not dead']; // Browser names aliases\n\nbrowserslist.aliases = {\n  fx: 'firefox',\n  ff: 'firefox',\n  ios: 'ios_saf',\n  explorer: 'ie',\n  blackberry: 'bb',\n  explorermobile: 'ie_mob',\n  operamini: 'op_mini',\n  operamobile: 'op_mob',\n  chromeandroid: 'and_chr',\n  firefoxandroid: 'and_ff',\n  ucandroid: 'and_uc',\n  qqandroid: 'and_qq'\n}; // Can I Use only provides a few versions for some browsers (e.g. and_chr).\n// Fallback to a similar browser for unknown versions\n\nbrowserslist.desktopNames = {\n  and_chr: 'chrome',\n  and_ff: 'firefox',\n  ie_mob: 'ie',\n  op_mob: 'opera',\n  android: 'chrome' // has extra processing logic\n\n}; // Aliases to work with joined versions like `ios_saf 7.0-7.1`\n\nbrowserslist.versionAliases = {};\nbrowserslist.clearCaches = env.clearCaches;\nbrowserslist.parseConfig = env.parseConfig;\nbrowserslist.readConfig = env.readConfig;\nbrowserslist.findConfig = env.findConfig;\nbrowserslist.loadConfig = env.loadConfig;\n/**\n * Return browsers market coverage.\n *\n * @param {string[]} browsers Browsers names in Can I Use.\n * @param {string|object} [stats=\"global\"] Which statistics should be used.\n *                                         Country code or custom statistics.\n *                                         Pass `\"my stats\"` to load statistics\n *                                         from Browserslist files.\n *\n * @return {number} Total market coverage for all selected browsers.\n *\n * @example\n * browserslist.coverage(browserslist('> 1% in US'), 'US') //=> 83.1\n */\n\nbrowserslist.coverage = function (browsers, stats) {\n  var data;\n\n  if (typeof stats === 'undefined') {\n    data = browserslist.usage.global;\n  } else if (stats === 'my stats') {\n    var opts = {};\n    opts.path = path.resolve ? path.resolve('.') : '.';\n    var customStats = env.getStat(opts);\n\n    if (!customStats) {\n      throw new BrowserslistError('Custom usage statistics was not provided');\n    }\n\n    data = {};\n\n    for (var browser in customStats) {\n      fillUsage(data, browser, customStats[browser]);\n    }\n  } else if (typeof stats === 'string') {\n    if (stats.length > 2) {\n      stats = stats.toLowerCase();\n    } else {\n      stats = stats.toUpperCase();\n    }\n\n    env.loadCountry(browserslist.usage, stats, browserslist.data);\n    data = browserslist.usage[stats];\n  } else {\n    if ('dataByBrowser' in stats) {\n      stats = stats.dataByBrowser;\n    }\n\n    data = {};\n\n    for (var name in stats) {\n      for (var version in stats[name]) {\n        data[name + ' ' + version] = stats[name][version];\n      }\n    }\n  }\n\n  return browsers.reduce(function (all, i) {\n    var usage = data[i];\n\n    if (usage === undefined) {\n      usage = data[i.replace(/ \\S+$/, ' 0')];\n    }\n\n    return all + (usage || 0);\n  }, 0);\n};\n\nfunction nodeQuery(context, version) {\n  var nodeReleases = jsReleases.filter(function (i) {\n    return i.name === 'nodejs';\n  });\n  var matched = nodeReleases.filter(function (i) {\n    return isVersionsMatch(i.version, version);\n  });\n\n  if (matched.length === 0) {\n    if (context.ignoreUnknownVersions) {\n      return [];\n    } else {\n      throw new BrowserslistError('Unknown version ' + version + ' of Node.js');\n    }\n  }\n\n  return ['node ' + matched[matched.length - 1].version];\n}\n\nfunction sinceQuery(context, year, month, date) {\n  year = parseInt(year);\n  month = parseInt(month || '01') - 1;\n  date = parseInt(date || '01');\n  return filterByYear(Date.UTC(year, month, date, 0, 0, 0), context);\n}\n\nfunction coverQuery(context, coverage, statMode) {\n  coverage = parseFloat(coverage);\n  var usage = browserslist.usage.global;\n\n  if (statMode) {\n    if (statMode.match(/^my\\s+stats$/)) {\n      if (!context.customUsage) {\n        throw new BrowserslistError('Custom usage statistics was not provided');\n      }\n\n      usage = context.customUsage;\n    } else {\n      var place;\n\n      if (statMode.length === 2) {\n        place = statMode.toUpperCase();\n      } else {\n        place = statMode.toLowerCase();\n      }\n\n      env.loadCountry(browserslist.usage, place, browserslist.data);\n      usage = browserslist.usage[place];\n    }\n  }\n\n  var versions = Object.keys(usage).sort(function (a, b) {\n    return usage[b] - usage[a];\n  });\n  var coveraged = 0;\n  var result = [];\n  var version;\n\n  for (var i = 0; i <= versions.length; i++) {\n    version = versions[i];\n    if (usage[version] === 0) break;\n    coveraged += usage[version];\n    result.push(version);\n    if (coveraged >= coverage) break;\n  }\n\n  return result;\n}\n\nvar QUERIES = [{\n  regexp: /^last\\s+(\\d+)\\s+major\\s+versions?$/i,\n  select: function (context, versions) {\n    return Object.keys(agents).reduce(function (selected, name) {\n      var data = byName(name, context);\n      if (!data) return selected;\n      var list = getMajorVersions(data.released, versions);\n      list = list.map(nameMapper(data.name));\n\n      if (data.name === 'android') {\n        list = filterAndroid(list, versions, context);\n      }\n\n      return selected.concat(list);\n    }, []);\n  }\n}, {\n  regexp: /^last\\s+(\\d+)\\s+versions?$/i,\n  select: function (context, versions) {\n    return Object.keys(agents).reduce(function (selected, name) {\n      var data = byName(name, context);\n      if (!data) return selected;\n      var list = data.released.slice(-versions);\n      list = list.map(nameMapper(data.name));\n\n      if (data.name === 'android') {\n        list = filterAndroid(list, versions, context);\n      }\n\n      return selected.concat(list);\n    }, []);\n  }\n}, {\n  regexp: /^last\\s+(\\d+)\\s+electron\\s+major\\s+versions?$/i,\n  select: function (context, versions) {\n    var validVersions = getMajorVersions(Object.keys(e2c), versions);\n    return validVersions.map(function (i) {\n      return 'chrome ' + e2c[i];\n    });\n  }\n}, {\n  regexp: /^last\\s+(\\d+)\\s+(\\w+)\\s+major\\s+versions?$/i,\n  select: function (context, versions, name) {\n    var data = checkName(name, context);\n    var validVersions = getMajorVersions(data.released, versions);\n    var list = validVersions.map(nameMapper(data.name));\n\n    if (data.name === 'android') {\n      list = filterAndroid(list, versions, context);\n    }\n\n    return list;\n  }\n}, {\n  regexp: /^last\\s+(\\d+)\\s+electron\\s+versions?$/i,\n  select: function (context, versions) {\n    return Object.keys(e2c).slice(-versions).map(function (i) {\n      return 'chrome ' + e2c[i];\n    });\n  }\n}, {\n  regexp: /^last\\s+(\\d+)\\s+(\\w+)\\s+versions?$/i,\n  select: function (context, versions, name) {\n    var data = checkName(name, context);\n    var list = data.released.slice(-versions).map(nameMapper(data.name));\n\n    if (data.name === 'android') {\n      list = filterAndroid(list, versions, context);\n    }\n\n    return list;\n  }\n}, {\n  regexp: /^unreleased\\s+versions$/i,\n  select: function (context) {\n    return Object.keys(agents).reduce(function (selected, name) {\n      var data = byName(name, context);\n      if (!data) return selected;\n      var list = data.versions.filter(function (v) {\n        return data.released.indexOf(v) === -1;\n      });\n      list = list.map(nameMapper(data.name));\n      return selected.concat(list);\n    }, []);\n  }\n}, {\n  regexp: /^unreleased\\s+electron\\s+versions?$/i,\n  select: function () {\n    return [];\n  }\n}, {\n  regexp: /^unreleased\\s+(\\w+)\\s+versions?$/i,\n  select: function (context, name) {\n    var data = checkName(name, context);\n    return data.versions.filter(function (v) {\n      return data.released.indexOf(v) === -1;\n    }).map(nameMapper(data.name));\n  }\n}, {\n  regexp: /^last\\s+(\\d*.?\\d+)\\s+years?$/i,\n  select: function (context, years) {\n    return filterByYear(Date.now() - YEAR * years, context);\n  }\n}, {\n  regexp: /^since (\\d+)$/i,\n  select: sinceQuery\n}, {\n  regexp: /^since (\\d+)-(\\d+)$/i,\n  select: sinceQuery\n}, {\n  regexp: /^since (\\d+)-(\\d+)-(\\d+)$/i,\n  select: sinceQuery\n}, {\n  regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%$/,\n  select: function (context, sign, popularity) {\n    popularity = parseFloat(popularity);\n    var usage = browserslist.usage.global;\n    return Object.keys(usage).reduce(function (result, version) {\n      if (sign === '>') {\n        if (usage[version] > popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<') {\n        if (usage[version] < popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<=') {\n        if (usage[version] <= popularity) {\n          result.push(version);\n        }\n      } else if (usage[version] >= popularity) {\n        result.push(version);\n      }\n\n      return result;\n    }, []);\n  }\n}, {\n  regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+my\\s+stats$/,\n  select: function (context, sign, popularity) {\n    popularity = parseFloat(popularity);\n\n    if (!context.customUsage) {\n      throw new BrowserslistError('Custom usage statistics was not provided');\n    }\n\n    var usage = context.customUsage;\n    return Object.keys(usage).reduce(function (result, version) {\n      if (sign === '>') {\n        if (usage[version] > popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<') {\n        if (usage[version] < popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<=') {\n        if (usage[version] <= popularity) {\n          result.push(version);\n        }\n      } else if (usage[version] >= popularity) {\n        result.push(version);\n      }\n\n      return result;\n    }, []);\n  }\n}, {\n  regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+(\\S+)\\s+stats$/,\n  select: function (context, sign, popularity, name) {\n    popularity = parseFloat(popularity);\n    var stats = env.loadStat(context, name, browserslist.data);\n\n    if (stats) {\n      context.customUsage = {};\n\n      for (var browser in stats) {\n        fillUsage(context.customUsage, browser, stats[browser]);\n      }\n    }\n\n    if (!context.customUsage) {\n      throw new BrowserslistError('Custom usage statistics was not provided');\n    }\n\n    var usage = context.customUsage;\n    return Object.keys(usage).reduce(function (result, version) {\n      if (sign === '>') {\n        if (usage[version] > popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<') {\n        if (usage[version] < popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<=') {\n        if (usage[version] <= popularity) {\n          result.push(version);\n        }\n      } else if (usage[version] >= popularity) {\n        result.push(version);\n      }\n\n      return result;\n    }, []);\n  }\n}, {\n  regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+((alt-)?\\w\\w)$/,\n  select: function (context, sign, popularity, place) {\n    popularity = parseFloat(popularity);\n\n    if (place.length === 2) {\n      place = place.toUpperCase();\n    } else {\n      place = place.toLowerCase();\n    }\n\n    env.loadCountry(browserslist.usage, place, browserslist.data);\n    var usage = browserslist.usage[place];\n    return Object.keys(usage).reduce(function (result, version) {\n      if (sign === '>') {\n        if (usage[version] > popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<') {\n        if (usage[version] < popularity) {\n          result.push(version);\n        }\n      } else if (sign === '<=') {\n        if (usage[version] <= popularity) {\n          result.push(version);\n        }\n      } else if (usage[version] >= popularity) {\n        result.push(version);\n      }\n\n      return result;\n    }, []);\n  }\n}, {\n  regexp: /^cover\\s+(\\d+|\\d+\\.\\d+|\\.\\d+)%$/,\n  select: coverQuery\n}, {\n  regexp: /^cover\\s+(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+(my\\s+stats|(alt-)?\\w\\w)$/,\n  select: coverQuery\n}, {\n  regexp: /^supports\\s+([\\w-]+)$/,\n  select: function (context, feature) {\n    env.loadFeature(browserslist.cache, feature);\n    var features = browserslist.cache[feature];\n    return Object.keys(features).reduce(function (result, version) {\n      var flags = features[version];\n\n      if (flags.indexOf('y') >= 0 || flags.indexOf('a') >= 0) {\n        result.push(version);\n      }\n\n      return result;\n    }, []);\n  }\n}, {\n  regexp: /^electron\\s+([\\d.]+)\\s*-\\s*([\\d.]+)$/i,\n  select: function (context, from, to) {\n    var fromToUse = normalizeElectron(from);\n    var toToUse = normalizeElectron(to);\n\n    if (!e2c[fromToUse]) {\n      throw new BrowserslistError('Unknown version ' + from + ' of electron');\n    }\n\n    if (!e2c[toToUse]) {\n      throw new BrowserslistError('Unknown version ' + to + ' of electron');\n    }\n\n    from = parseFloat(from);\n    to = parseFloat(to);\n    return Object.keys(e2c).filter(function (i) {\n      var parsed = parseFloat(i);\n      return parsed >= from && parsed <= to;\n    }).map(function (i) {\n      return 'chrome ' + e2c[i];\n    });\n  }\n}, {\n  regexp: /^node\\s+([\\d.]+)\\s*-\\s*([\\d.]+)$/i,\n  select: function (context, from, to) {\n    var nodeVersions = jsReleases.filter(function (i) {\n      return i.name === 'nodejs';\n    }).map(function (i) {\n      return i.version;\n    });\n    return nodeVersions.filter(semverFilterLoose('>=', from)).filter(semverFilterLoose('<=', to)).map(function (v) {\n      return 'node ' + v;\n    });\n  }\n}, {\n  regexp: /^(\\w+)\\s+([\\d.]+)\\s*-\\s*([\\d.]+)$/i,\n  select: function (context, name, from, to) {\n    var data = checkName(name, context);\n    from = parseFloat(normalizeVersion(data, from) || from);\n    to = parseFloat(normalizeVersion(data, to) || to);\n\n    function filter(v) {\n      var parsed = parseFloat(v);\n      return parsed >= from && parsed <= to;\n    }\n\n    return data.released.filter(filter).map(nameMapper(data.name));\n  }\n}, {\n  regexp: /^electron\\s*(>=?|<=?)\\s*([\\d.]+)$/i,\n  select: function (context, sign, version) {\n    var versionToUse = normalizeElectron(version);\n    return Object.keys(e2c).filter(generateFilter(sign, versionToUse)).map(function (i) {\n      return 'chrome ' + e2c[i];\n    });\n  }\n}, {\n  regexp: /^node\\s*(>=?|<=?)\\s*([\\d.]+)$/i,\n  select: function (context, sign, version) {\n    var nodeVersions = jsReleases.filter(function (i) {\n      return i.name === 'nodejs';\n    }).map(function (i) {\n      return i.version;\n    });\n    return nodeVersions.filter(generateSemverFilter(sign, version)).map(function (v) {\n      return 'node ' + v;\n    });\n  }\n}, {\n  regexp: /^(\\w+)\\s*(>=?|<=?)\\s*([\\d.]+)$/,\n  select: function (context, name, sign, version) {\n    var data = checkName(name, context);\n    var alias = browserslist.versionAliases[data.name][version];\n\n    if (alias) {\n      version = alias;\n    }\n\n    return data.released.filter(generateFilter(sign, version)).map(function (v) {\n      return data.name + ' ' + v;\n    });\n  }\n}, {\n  regexp: /^(firefox|ff|fx)\\s+esr$/i,\n  select: function () {\n    return ['firefox 78'];\n  }\n}, {\n  regexp: /(operamini|op_mini)\\s+all/i,\n  select: function () {\n    return ['op_mini all'];\n  }\n}, {\n  regexp: /^electron\\s+([\\d.]+)$/i,\n  select: function (context, version) {\n    var versionToUse = normalizeElectron(version);\n    var chrome = e2c[versionToUse];\n\n    if (!chrome) {\n      throw new BrowserslistError('Unknown version ' + version + ' of electron');\n    }\n\n    return ['chrome ' + chrome];\n  }\n}, {\n  regexp: /^node\\s+(\\d+)$/i,\n  select: nodeQuery\n}, {\n  regexp: /^node\\s+(\\d+\\.\\d+)$/i,\n  select: nodeQuery\n}, {\n  regexp: /^node\\s+(\\d+\\.\\d+\\.\\d+)$/i,\n  select: nodeQuery\n}, {\n  regexp: /^current\\s+node$/i,\n  select: function (context) {\n    return [env.currentNode(resolve, context)];\n  }\n}, {\n  regexp: /^maintained\\s+node\\s+versions$/i,\n  select: function (context) {\n    var now = Date.now();\n    var queries = Object.keys(jsEOL).filter(function (key) {\n      return now < Date.parse(jsEOL[key].end) && now > Date.parse(jsEOL[key].start) && isEolReleased(key);\n    }).map(function (key) {\n      return 'node ' + key.slice(1);\n    });\n    return resolve(queries, context);\n  }\n}, {\n  regexp: /^phantomjs\\s+1.9$/i,\n  select: function () {\n    return ['safari 5'];\n  }\n}, {\n  regexp: /^phantomjs\\s+2.1$/i,\n  select: function () {\n    return ['safari 6'];\n  }\n}, {\n  regexp: /^(\\w+)\\s+(tp|[\\d.]+)$/i,\n  select: function (context, name, version) {\n    if (/^tp$/i.test(version)) version = 'TP';\n    var data = checkName(name, context);\n    var alias = normalizeVersion(data, version);\n\n    if (alias) {\n      version = alias;\n    } else {\n      if (version.indexOf('.') === -1) {\n        alias = version + '.0';\n      } else {\n        alias = version.replace(/\\.0$/, '');\n      }\n\n      alias = normalizeVersion(data, alias);\n\n      if (alias) {\n        version = alias;\n      } else if (context.ignoreUnknownVersions) {\n        return [];\n      } else {\n        throw new BrowserslistError('Unknown version ' + version + ' of ' + name);\n      }\n    }\n\n    return [data.name + ' ' + version];\n  }\n}, {\n  regexp: /^browserslist config$/i,\n  select: function (context) {\n    return browserslist(undefined, context);\n  }\n}, {\n  regexp: /^extends (.+)$/i,\n  select: function (context, name) {\n    return resolve(env.loadQueries(context, name), context);\n  }\n}, {\n  regexp: /^defaults$/i,\n  select: function (context) {\n    return resolve(browserslist.defaults, context);\n  }\n}, {\n  regexp: /^dead$/i,\n  select: function (context) {\n    var dead = ['ie <= 10', 'ie_mob <= 11', 'bb <= 10', 'op_mob <= 12.1', 'samsung 4'];\n    return resolve(dead, context);\n  }\n}, {\n  regexp: /^(\\w+)$/i,\n  select: function (context, name) {\n    if (byName(name, context)) {\n      throw new BrowserslistError('Specify versions in Browserslist query for browser ' + name);\n    } else {\n      throw unknownQuery(name);\n    }\n  }\n}]; // Get and convert Can I Use data\n\n(function () {\n  for (var name in agents) {\n    var browser = agents[name];\n    browserslist.data[name] = {\n      name: name,\n      versions: normalize(agents[name].versions),\n      released: normalize(agents[name].versions.slice(0, -3)),\n      releaseDate: agents[name].release_date\n    };\n    fillUsage(browserslist.usage.global, name, browser.usage_global);\n    browserslist.versionAliases[name] = {};\n\n    for (var i = 0; i < browser.versions.length; i++) {\n      var full = browser.versions[i];\n      if (!full) continue;\n\n      if (full.indexOf('-') !== -1) {\n        var interval = full.split('-');\n\n        for (var j = 0; j < interval.length; j++) {\n          browserslist.versionAliases[name][interval[j]] = full;\n        }\n      }\n    }\n  }\n\n  browserslist.versionAliases.op_mob['59'] = '58';\n})();\n\nmodule.exports = browserslist;","map":{"version":3,"sources":["D:/my/Projects/Star Wars Wiki App/star-wars-app/node_modules/browserslist/index.js"],"names":["jsReleases","require","agents","jsEOL","path","e2c","BrowserslistError","env","YEAR","ANDROID_EVERGREEN_FIRST","QUERY_OR","QUERY_AND","isVersionsMatch","versionA","versionB","indexOf","isEolReleased","name","version","slice","some","i","normalize","versions","filter","normalizeElectron","versionToUse","split","length","join","nameMapper","mapName","getMajor","parseInt","getMajorVersions","released","number","majorVersions","uniq","map","minimum","selected","unshift","array","filtered","push","fillUsage","result","data","generateFilter","sign","parseFloat","v","generateSemverFilter","parseSimpleInt","compareSemver","x","compare","a","b","semverFilterLoose","operator","range","compareSemverLoose","resolveVersion","browserslist","versionAliases","normalizeVersion","resolved","filterByYear","since","context","Object","keys","reduce","byName","releaseDate","concat","cloneData","mapVersions","fixedDate","toLowerCase","aliases","mobileToDesktop","desktopNames","desktop","normalizeAndroidData","cloned","normalizeAndroidVersions","androidVersions","chromeVersions","firstEvergreen","last","test","android","chrome","checkName","unknownQuery","query","filterAndroid","list","diff","resolve","queries","Array","isArray","flatten","parse","index","selection","queryString","isExclude","QUERIES","type","match","regexp","args","select","apply","j","parts","forEach","cache","opts","config","loadConfig","defaults","ignoreUnknownVersions","dangerousExtend","oldDataWarning","stats","getStat","customUsage","browser","cacheKey","JSON","stringify","sort","name1","name2","version1","version2","process","BROWSERSLIST_DISABLE_CACHE","qs","doMatch","string","or","and","find","parsed","n","max","trim","predicate","substr","usage","global","custom","fx","ff","ios","explorer","blackberry","explorermobile","operamini","operamobile","chromeandroid","firefoxandroid","ucandroid","qqandroid","and_chr","and_ff","ie_mob","op_mob","clearCaches","parseConfig","readConfig","findConfig","coverage","browsers","customStats","toUpperCase","loadCountry","dataByBrowser","all","undefined","replace","nodeQuery","nodeReleases","matched","sinceQuery","year","month","date","Date","UTC","coverQuery","statMode","place","coveraged","validVersions","years","now","popularity","loadStat","feature","loadFeature","features","flags","from","to","fromToUse","toToUse","nodeVersions","alias","currentNode","key","end","start","loadQueries","dead","release_date","usage_global","full","interval","module","exports"],"mappings":"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","sourcesContent":["var jsReleases = require('node-releases/data/processed/envs.json')\nvar agents = require('caniuse-lite/dist/unpacker/agents').agents\nvar jsEOL = require('node-releases/data/release-schedule/release-schedule.json')\nvar path = require('path')\nvar e2c = require('electron-to-chromium/versions')\n\nvar BrowserslistError = require('./error')\nvar env = require('./node') // Will load browser.js in webpack\n\nvar YEAR = 365.259641 * 24 * 60 * 60 * 1000\nvar ANDROID_EVERGREEN_FIRST = 37\n\nvar QUERY_OR = 1\nvar QUERY_AND = 2\n\nfunction isVersionsMatch (versionA, versionB) {\n  return (versionA + '.').indexOf(versionB + '.') === 0\n}\n\nfunction isEolReleased (name) {\n  var version = name.slice(1)\n  return jsReleases.some(function (i) {\n    return isVersionsMatch(i.version, version)\n  })\n}\n\nfunction normalize (versions) {\n  return versions.filter(function (version) {\n    return typeof version === 'string'\n  })\n}\n\nfunction normalizeElectron (version) {\n  var versionToUse = version\n  if (version.split('.').length === 3) {\n    versionToUse = version\n      .split('.')\n      .slice(0, -1)\n      .join('.')\n  }\n  return versionToUse\n}\n\nfunction nameMapper (name) {\n  return function mapName (version) {\n    return name + ' ' + version\n  }\n}\n\nfunction getMajor (version) {\n  return parseInt(version.split('.')[0])\n}\n\nfunction getMajorVersions (released, number) {\n  if (released.length === 0) return []\n  var majorVersions = uniq(released.map(getMajor))\n  var minimum = majorVersions[majorVersions.length - number]\n  if (!minimum) {\n    return released\n  }\n  var selected = []\n  for (var i = released.length - 1; i >= 0; i--) {\n    if (minimum > getMajor(released[i])) break\n    selected.unshift(released[i])\n  }\n  return selected\n}\n\nfunction uniq (array) {\n  var filtered = []\n  for (var i = 0; i < array.length; i++) {\n    if (filtered.indexOf(array[i]) === -1) filtered.push(array[i])\n  }\n  return filtered\n}\n\n// Helpers\n\nfunction fillUsage (result, name, data) {\n  for (var i in data) {\n    result[name + ' ' + i] = data[i]\n  }\n}\n\nfunction generateFilter (sign, version) {\n  version = parseFloat(version)\n  if (sign === '>') {\n    return function (v) {\n      return parseFloat(v) > version\n    }\n  } else if (sign === '>=') {\n    return function (v) {\n      return parseFloat(v) >= version\n    }\n  } else if (sign === '<') {\n    return function (v) {\n      return parseFloat(v) < version\n    }\n  } else {\n    return function (v) {\n      return parseFloat(v) <= version\n    }\n  }\n}\n\nfunction generateSemverFilter (sign, version) {\n  version = version.split('.').map(parseSimpleInt)\n  version[1] = version[1] || 0\n  version[2] = version[2] || 0\n  if (sign === '>') {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt)\n      return compareSemver(v, version) > 0\n    }\n  } else if (sign === '>=') {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt)\n      return compareSemver(v, version) >= 0\n    }\n  } else if (sign === '<') {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt)\n      return compareSemver(version, v) > 0\n    }\n  } else {\n    return function (v) {\n      v = v.split('.').map(parseSimpleInt)\n      return compareSemver(version, v) >= 0\n    }\n  }\n}\n\nfunction parseSimpleInt (x) {\n  return parseInt(x)\n}\n\nfunction compare (a, b) {\n  if (a < b) return -1\n  if (a > b) return +1\n  return 0\n}\n\nfunction compareSemver (a, b) {\n  return (\n    compare(parseInt(a[0]), parseInt(b[0])) ||\n    compare(parseInt(a[1] || '0'), parseInt(b[1] || '0')) ||\n    compare(parseInt(a[2] || '0'), parseInt(b[2] || '0'))\n  )\n}\n\n// this follows the npm-like semver behavior\nfunction semverFilterLoose (operator, range) {\n  range = range.split('.').map(parseSimpleInt)\n  if (typeof range[1] === 'undefined') {\n    range[1] = 'x'\n  }\n  // ignore any patch version because we only return minor versions\n  // range[2] = 'x'\n  switch (operator) {\n    case '<=':\n      return function (version) {\n        version = version.split('.').map(parseSimpleInt)\n        return compareSemverLoose(version, range) <= 0\n      }\n    default:\n    case '>=':\n      return function (version) {\n        version = version.split('.').map(parseSimpleInt)\n        return compareSemverLoose(version, range) >= 0\n      }\n  }\n}\n\n// this follows the npm-like semver behavior\nfunction compareSemverLoose (version, range) {\n  if (version[0] !== range[0]) {\n    return version[0] < range[0] ? -1 : +1\n  }\n  if (range[1] === 'x') {\n    return 0\n  }\n  if (version[1] !== range[1]) {\n    return version[1] < range[1] ? -1 : +1\n  }\n  return 0\n}\n\nfunction resolveVersion (data, version) {\n  if (data.versions.indexOf(version) !== -1) {\n    return version\n  } else if (browserslist.versionAliases[data.name][version]) {\n    return browserslist.versionAliases[data.name][version]\n  } else {\n    return false\n  }\n}\n\nfunction normalizeVersion (data, version) {\n  var resolved = resolveVersion(data, version)\n  if (resolved) {\n    return resolved\n  } else if (data.versions.length === 1) {\n    return data.versions[0]\n  } else {\n    return false\n  }\n}\n\nfunction filterByYear (since, context) {\n  since = since / 1000\n  return Object.keys(agents).reduce(function (selected, name) {\n    var data = byName(name, context)\n    if (!data) return selected\n    var versions = Object.keys(data.releaseDate).filter(function (v) {\n      return data.releaseDate[v] >= since\n    })\n    return selected.concat(versions.map(nameMapper(data.name)))\n  }, [])\n}\n\nfunction cloneData (data) {\n  return {\n    name: data.name,\n    versions: data.versions,\n    released: data.released,\n    releaseDate: data.releaseDate\n  }\n}\n\nfunction mapVersions (data, map) {\n  data.versions = data.versions.map(function (i) {\n    return map[i] || i\n  })\n  data.released = data.versions.map(function (i) {\n    return map[i] || i\n  })\n  var fixedDate = { }\n  for (var i in data.releaseDate) {\n    fixedDate[map[i] || i] = data.releaseDate[i]\n  }\n  data.releaseDate = fixedDate\n  return data\n}\n\nfunction byName (name, context) {\n  name = name.toLowerCase()\n  name = browserslist.aliases[name] || name\n  if (context.mobileToDesktop && browserslist.desktopNames[name]) {\n    var desktop = browserslist.data[browserslist.desktopNames[name]]\n    if (name === 'android') {\n      return normalizeAndroidData(cloneData(browserslist.data[name]), desktop)\n    } else {\n      var cloned = cloneData(desktop)\n      cloned.name = name\n      if (name === 'op_mob') {\n        cloned = mapVersions(cloned, { '10.0-10.1': '10' })\n      }\n      return cloned\n    }\n  }\n  return browserslist.data[name]\n}\n\nfunction normalizeAndroidVersions (androidVersions, chromeVersions) {\n  var firstEvergreen = ANDROID_EVERGREEN_FIRST\n  var last = chromeVersions[chromeVersions.length - 1]\n  return androidVersions\n    .filter(function (version) { return /^(?:[2-4]\\.|[34]$)/.test(version) })\n    .concat(chromeVersions.slice(firstEvergreen - last - 1))\n}\n\nfunction normalizeAndroidData (android, chrome) {\n  android.released = normalizeAndroidVersions(android.released, chrome.released)\n  android.versions = normalizeAndroidVersions(android.versions, chrome.versions)\n  return android\n}\n\nfunction checkName (name, context) {\n  var data = byName(name, context)\n  if (!data) throw new BrowserslistError('Unknown browser ' + name)\n  return data\n}\n\nfunction unknownQuery (query) {\n  return new BrowserslistError(\n    'Unknown browser query `' + query + '`. ' +\n    'Maybe you are using old Browserslist or made typo in query.'\n  )\n}\n\nfunction filterAndroid (list, versions, context) {\n  if (context.mobileToDesktop) return list\n  var released = browserslist.data.android.released\n  var last = released[released.length - 1]\n  var diff = last - ANDROID_EVERGREEN_FIRST - versions\n  if (diff > 0) {\n    return list.slice(-1)\n  } else {\n    return list.slice(diff - 1)\n  }\n}\n\n/**\n * Resolves queries into a browser list.\n * @param {string|string[]} queries Queries to combine.\n * Either an array of queries or a long string of queries.\n * @param {object} [context] Optional arguments to\n * the select function in `queries`.\n * @returns {string[]} A list of browsers\n */\nfunction resolve (queries, context) {\n  if (Array.isArray(queries)) {\n    queries = flatten(queries.map(parse))\n  } else {\n    queries = parse(queries)\n  }\n\n  return queries.reduce(function (result, query, index) {\n    var selection = query.queryString\n\n    var isExclude = selection.indexOf('not ') === 0\n    if (isExclude) {\n      if (index === 0) {\n        throw new BrowserslistError(\n          'Write any browsers query (for instance, `defaults`) ' +\n          'before `' + selection + '`')\n      }\n      selection = selection.slice(4)\n    }\n\n    for (var i = 0; i < QUERIES.length; i++) {\n      var type = QUERIES[i]\n      var match = selection.match(type.regexp)\n      if (match) {\n        var args = [context].concat(match.slice(1))\n        var array = type.select.apply(browserslist, args).map(function (j) {\n          var parts = j.split(' ')\n          if (parts[1] === '0') {\n            return parts[0] + ' ' + byName(parts[0], context).versions[0]\n          } else {\n            return j\n          }\n        })\n\n        switch (query.type) {\n          case QUERY_AND:\n            if (isExclude) {\n              return result.filter(function (j) {\n                return array.indexOf(j) === -1\n              })\n            } else {\n              return result.filter(function (j) {\n                return array.indexOf(j) !== -1\n              })\n            }\n          case QUERY_OR:\n          default:\n            if (isExclude) {\n              var filter = { }\n              array.forEach(function (j) {\n                filter[j] = true\n              })\n              return result.filter(function (j) {\n                return !filter[j]\n              })\n            }\n            return result.concat(array)\n        }\n      }\n    }\n\n    throw unknownQuery(selection)\n  }, [])\n}\n\nvar cache = { }\n\n/**\n * Return array of browsers by selection queries.\n *\n * @param {(string|string[])} [queries=browserslist.defaults] Browser queries.\n * @param {object} [opts] Options.\n * @param {string} [opts.path=\".\"] Path to processed file.\n *                                 It will be used to find config files.\n * @param {string} [opts.env=\"production\"] Processing environment.\n *                                         It will be used to take right\n *                                         queries from config file.\n * @param {string} [opts.config] Path to config file with queries.\n * @param {object} [opts.stats] Custom browser usage statistics\n *                              for \"> 1% in my stats\" query.\n * @param {boolean} [opts.ignoreUnknownVersions=false] Do not throw on unknown\n *                                                     version in direct query.\n * @param {boolean} [opts.dangerousExtend] Disable security checks\n *                                         for extend query.\n * @param {boolean} [opts.mobileToDesktop] Alias mobile browsers to the desktop\n *                                         version when Can I Use doesn't have\n *                                         data about the specified version.\n * @returns {string[]} Array with browser names in Can I Use.\n *\n * @example\n * browserslist('IE >= 10, IE 8') //=> ['ie 11', 'ie 10', 'ie 8']\n */\nfunction browserslist (queries, opts) {\n  if (typeof opts === 'undefined') opts = { }\n\n  if (typeof opts.path === 'undefined') {\n    opts.path = path.resolve ? path.resolve('.') : '.'\n  }\n\n  if (typeof queries === 'undefined' || queries === null) {\n    var config = browserslist.loadConfig(opts)\n    if (config) {\n      queries = config\n    } else {\n      queries = browserslist.defaults\n    }\n  }\n\n  if (!(typeof queries === 'string' || Array.isArray(queries))) {\n    throw new BrowserslistError(\n      'Browser queries must be an array or string. Got ' + typeof queries + '.')\n  }\n\n  var context = {\n    ignoreUnknownVersions: opts.ignoreUnknownVersions,\n    dangerousExtend: opts.dangerousExtend,\n    mobileToDesktop: opts.mobileToDesktop,\n    path: opts.path,\n    env: opts.env\n  }\n\n  env.oldDataWarning(browserslist.data)\n  var stats = env.getStat(opts, browserslist.data)\n  if (stats) {\n    context.customUsage = { }\n    for (var browser in stats) {\n      fillUsage(context.customUsage, browser, stats[browser])\n    }\n  }\n\n  var cacheKey = JSON.stringify([queries, context])\n  if (cache[cacheKey]) return cache[cacheKey]\n\n  var result = uniq(resolve(queries, context)).sort(function (name1, name2) {\n    name1 = name1.split(' ')\n    name2 = name2.split(' ')\n    if (name1[0] === name2[0]) {\n      // assumptions on caniuse data\n      // 1) version ranges never overlaps\n      // 2) if version is not a range, it never contains `-`\n      var version1 = name1[1].split('-')[0]\n      var version2 = name2[1].split('-')[0]\n      return compareSemver(version2.split('.'), version1.split('.'))\n    } else {\n      return compare(name1[0], name2[0])\n    }\n  })\n  if (!process.env.BROWSERSLIST_DISABLE_CACHE) {\n    cache[cacheKey] = result\n  }\n  return result\n}\n\nfunction parse (queries) {\n  var qs = []\n  do {\n    queries = doMatch(queries, qs)\n  } while (queries)\n  return qs\n}\n\nfunction doMatch (string, qs) {\n  var or = /^(?:,\\s*|\\s+or\\s+)(.*)/i\n  var and = /^\\s+and\\s+(.*)/i\n\n  return find(string, function (parsed, n, max) {\n    if (and.test(parsed)) {\n      qs.unshift({ type: QUERY_AND, queryString: parsed.match(and)[1] })\n      return true\n    } else if (or.test(parsed)) {\n      qs.unshift({ type: QUERY_OR, queryString: parsed.match(or)[1] })\n      return true\n    } else if (n === max) {\n      qs.unshift({ type: QUERY_OR, queryString: parsed.trim() })\n      return true\n    }\n    return false\n  })\n}\n\nfunction find (string, predicate) {\n  for (var n = 1, max = string.length; n <= max; n++) {\n    var parsed = string.substr(-n, n)\n    if (predicate(parsed, n, max)) {\n      return string.slice(0, -n)\n    }\n  }\n  return ''\n}\n\nfunction flatten (array) {\n  if (!Array.isArray(array)) return [array]\n  return array.reduce(function (a, b) {\n    return a.concat(flatten(b))\n  }, [])\n}\n\n// Will be filled by Can I Use data below\nbrowserslist.cache = { }\nbrowserslist.data = { }\nbrowserslist.usage = {\n  global: { },\n  custom: null\n}\n\n// Default browsers query\nbrowserslist.defaults = [\n  '> 0.5%',\n  'last 2 versions',\n  'Firefox ESR',\n  'not dead'\n]\n\n// Browser names aliases\nbrowserslist.aliases = {\n  fx: 'firefox',\n  ff: 'firefox',\n  ios: 'ios_saf',\n  explorer: 'ie',\n  blackberry: 'bb',\n  explorermobile: 'ie_mob',\n  operamini: 'op_mini',\n  operamobile: 'op_mob',\n  chromeandroid: 'and_chr',\n  firefoxandroid: 'and_ff',\n  ucandroid: 'and_uc',\n  qqandroid: 'and_qq'\n}\n\n// Can I Use only provides a few versions for some browsers (e.g. and_chr).\n// Fallback to a similar browser for unknown versions\nbrowserslist.desktopNames = {\n  and_chr: 'chrome',\n  and_ff: 'firefox',\n  ie_mob: 'ie',\n  op_mob: 'opera',\n  android: 'chrome' // has extra processing logic\n}\n\n// Aliases to work with joined versions like `ios_saf 7.0-7.1`\nbrowserslist.versionAliases = { }\n\nbrowserslist.clearCaches = env.clearCaches\nbrowserslist.parseConfig = env.parseConfig\nbrowserslist.readConfig = env.readConfig\nbrowserslist.findConfig = env.findConfig\nbrowserslist.loadConfig = env.loadConfig\n\n/**\n * Return browsers market coverage.\n *\n * @param {string[]} browsers Browsers names in Can I Use.\n * @param {string|object} [stats=\"global\"] Which statistics should be used.\n *                                         Country code or custom statistics.\n *                                         Pass `\"my stats\"` to load statistics\n *                                         from Browserslist files.\n *\n * @return {number} Total market coverage for all selected browsers.\n *\n * @example\n * browserslist.coverage(browserslist('> 1% in US'), 'US') //=> 83.1\n */\nbrowserslist.coverage = function (browsers, stats) {\n  var data\n  if (typeof stats === 'undefined') {\n    data = browserslist.usage.global\n  } else if (stats === 'my stats') {\n    var opts = {}\n    opts.path = path.resolve ? path.resolve('.') : '.'\n    var customStats = env.getStat(opts)\n    if (!customStats) {\n      throw new BrowserslistError('Custom usage statistics was not provided')\n    }\n    data = {}\n    for (var browser in customStats) {\n      fillUsage(data, browser, customStats[browser])\n    }\n  } else if (typeof stats === 'string') {\n    if (stats.length > 2) {\n      stats = stats.toLowerCase()\n    } else {\n      stats = stats.toUpperCase()\n    }\n    env.loadCountry(browserslist.usage, stats, browserslist.data)\n    data = browserslist.usage[stats]\n  } else {\n    if ('dataByBrowser' in stats) {\n      stats = stats.dataByBrowser\n    }\n    data = { }\n    for (var name in stats) {\n      for (var version in stats[name]) {\n        data[name + ' ' + version] = stats[name][version]\n      }\n    }\n  }\n\n  return browsers.reduce(function (all, i) {\n    var usage = data[i]\n    if (usage === undefined) {\n      usage = data[i.replace(/ \\S+$/, ' 0')]\n    }\n    return all + (usage || 0)\n  }, 0)\n}\n\nfunction nodeQuery (context, version) {\n  var nodeReleases = jsReleases.filter(function (i) {\n    return i.name === 'nodejs'\n  })\n  var matched = nodeReleases.filter(function (i) {\n    return isVersionsMatch(i.version, version)\n  })\n  if (matched.length === 0) {\n    if (context.ignoreUnknownVersions) {\n      return []\n    } else {\n      throw new BrowserslistError('Unknown version ' + version + ' of Node.js')\n    }\n  }\n  return ['node ' + matched[matched.length - 1].version]\n}\n\nfunction sinceQuery (context, year, month, date) {\n  year = parseInt(year)\n  month = parseInt(month || '01') - 1\n  date = parseInt(date || '01')\n  return filterByYear(Date.UTC(year, month, date, 0, 0, 0), context)\n}\n\nfunction coverQuery (context, coverage, statMode) {\n  coverage = parseFloat(coverage)\n  var usage = browserslist.usage.global\n  if (statMode) {\n    if (statMode.match(/^my\\s+stats$/)) {\n      if (!context.customUsage) {\n        throw new BrowserslistError(\n          'Custom usage statistics was not provided'\n        )\n      }\n      usage = context.customUsage\n    } else {\n      var place\n      if (statMode.length === 2) {\n        place = statMode.toUpperCase()\n      } else {\n        place = statMode.toLowerCase()\n      }\n      env.loadCountry(browserslist.usage, place, browserslist.data)\n      usage = browserslist.usage[place]\n    }\n  }\n  var versions = Object.keys(usage).sort(function (a, b) {\n    return usage[b] - usage[a]\n  })\n  var coveraged = 0\n  var result = []\n  var version\n  for (var i = 0; i <= versions.length; i++) {\n    version = versions[i]\n    if (usage[version] === 0) break\n    coveraged += usage[version]\n    result.push(version)\n    if (coveraged >= coverage) break\n  }\n  return result\n}\n\nvar QUERIES = [\n  {\n    regexp: /^last\\s+(\\d+)\\s+major\\s+versions?$/i,\n    select: function (context, versions) {\n      return Object.keys(agents).reduce(function (selected, name) {\n        var data = byName(name, context)\n        if (!data) return selected\n        var list = getMajorVersions(data.released, versions)\n        list = list.map(nameMapper(data.name))\n        if (data.name === 'android') {\n          list = filterAndroid(list, versions, context)\n        }\n        return selected.concat(list)\n      }, [])\n    }\n  },\n  {\n    regexp: /^last\\s+(\\d+)\\s+versions?$/i,\n    select: function (context, versions) {\n      return Object.keys(agents).reduce(function (selected, name) {\n        var data = byName(name, context)\n        if (!data) return selected\n        var list = data.released.slice(-versions)\n        list = list.map(nameMapper(data.name))\n        if (data.name === 'android') {\n          list = filterAndroid(list, versions, context)\n        }\n        return selected.concat(list)\n      }, [])\n    }\n  },\n  {\n    regexp: /^last\\s+(\\d+)\\s+electron\\s+major\\s+versions?$/i,\n    select: function (context, versions) {\n      var validVersions = getMajorVersions(Object.keys(e2c), versions)\n      return validVersions.map(function (i) {\n        return 'chrome ' + e2c[i]\n      })\n    }\n  },\n  {\n    regexp: /^last\\s+(\\d+)\\s+(\\w+)\\s+major\\s+versions?$/i,\n    select: function (context, versions, name) {\n      var data = checkName(name, context)\n      var validVersions = getMajorVersions(data.released, versions)\n      var list = validVersions.map(nameMapper(data.name))\n      if (data.name === 'android') {\n        list = filterAndroid(list, versions, context)\n      }\n      return list\n    }\n  },\n  {\n    regexp: /^last\\s+(\\d+)\\s+electron\\s+versions?$/i,\n    select: function (context, versions) {\n      return Object.keys(e2c)\n        .slice(-versions)\n        .map(function (i) {\n          return 'chrome ' + e2c[i]\n        })\n    }\n  },\n  {\n    regexp: /^last\\s+(\\d+)\\s+(\\w+)\\s+versions?$/i,\n    select: function (context, versions, name) {\n      var data = checkName(name, context)\n      var list = data.released.slice(-versions).map(nameMapper(data.name))\n      if (data.name === 'android') {\n        list = filterAndroid(list, versions, context)\n      }\n      return list\n    }\n  },\n  {\n    regexp: /^unreleased\\s+versions$/i,\n    select: function (context) {\n      return Object.keys(agents).reduce(function (selected, name) {\n        var data = byName(name, context)\n        if (!data) return selected\n        var list = data.versions.filter(function (v) {\n          return data.released.indexOf(v) === -1\n        })\n        list = list.map(nameMapper(data.name))\n        return selected.concat(list)\n      }, [])\n    }\n  },\n  {\n    regexp: /^unreleased\\s+electron\\s+versions?$/i,\n    select: function () {\n      return []\n    }\n  },\n  {\n    regexp: /^unreleased\\s+(\\w+)\\s+versions?$/i,\n    select: function (context, name) {\n      var data = checkName(name, context)\n      return data.versions\n        .filter(function (v) {\n          return data.released.indexOf(v) === -1\n        })\n        .map(nameMapper(data.name))\n    }\n  },\n  {\n    regexp: /^last\\s+(\\d*.?\\d+)\\s+years?$/i,\n    select: function (context, years) {\n      return filterByYear(Date.now() - YEAR * years, context)\n    }\n  },\n  {\n    regexp: /^since (\\d+)$/i,\n    select: sinceQuery\n  },\n  {\n    regexp: /^since (\\d+)-(\\d+)$/i,\n    select: sinceQuery\n  },\n  {\n    regexp: /^since (\\d+)-(\\d+)-(\\d+)$/i,\n    select: sinceQuery\n  },\n  {\n    regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%$/,\n    select: function (context, sign, popularity) {\n      popularity = parseFloat(popularity)\n      var usage = browserslist.usage.global\n      return Object.keys(usage).reduce(function (result, version) {\n        if (sign === '>') {\n          if (usage[version] > popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<') {\n          if (usage[version] < popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<=') {\n          if (usage[version] <= popularity) {\n            result.push(version)\n          }\n        } else if (usage[version] >= popularity) {\n          result.push(version)\n        }\n        return result\n      }, [])\n    }\n  },\n  {\n    regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+my\\s+stats$/,\n    select: function (context, sign, popularity) {\n      popularity = parseFloat(popularity)\n      if (!context.customUsage) {\n        throw new BrowserslistError('Custom usage statistics was not provided')\n      }\n      var usage = context.customUsage\n      return Object.keys(usage).reduce(function (result, version) {\n        if (sign === '>') {\n          if (usage[version] > popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<') {\n          if (usage[version] < popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<=') {\n          if (usage[version] <= popularity) {\n            result.push(version)\n          }\n        } else if (usage[version] >= popularity) {\n          result.push(version)\n        }\n        return result\n      }, [])\n    }\n  },\n  {\n    regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+(\\S+)\\s+stats$/,\n    select: function (context, sign, popularity, name) {\n      popularity = parseFloat(popularity)\n      var stats = env.loadStat(context, name, browserslist.data)\n      if (stats) {\n        context.customUsage = {}\n        for (var browser in stats) {\n          fillUsage(context.customUsage, browser, stats[browser])\n        }\n      }\n      if (!context.customUsage) {\n        throw new BrowserslistError('Custom usage statistics was not provided')\n      }\n      var usage = context.customUsage\n      return Object.keys(usage).reduce(function (result, version) {\n        if (sign === '>') {\n          if (usage[version] > popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<') {\n          if (usage[version] < popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<=') {\n          if (usage[version] <= popularity) {\n            result.push(version)\n          }\n        } else if (usage[version] >= popularity) {\n          result.push(version)\n        }\n        return result\n      }, [])\n    }\n  },\n  {\n    regexp: /^(>=?|<=?)\\s*(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+((alt-)?\\w\\w)$/,\n    select: function (context, sign, popularity, place) {\n      popularity = parseFloat(popularity)\n      if (place.length === 2) {\n        place = place.toUpperCase()\n      } else {\n        place = place.toLowerCase()\n      }\n      env.loadCountry(browserslist.usage, place, browserslist.data)\n      var usage = browserslist.usage[place]\n      return Object.keys(usage).reduce(function (result, version) {\n        if (sign === '>') {\n          if (usage[version] > popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<') {\n          if (usage[version] < popularity) {\n            result.push(version)\n          }\n        } else if (sign === '<=') {\n          if (usage[version] <= popularity) {\n            result.push(version)\n          }\n        } else if (usage[version] >= popularity) {\n          result.push(version)\n        }\n        return result\n      }, [])\n    }\n  },\n  {\n    regexp: /^cover\\s+(\\d+|\\d+\\.\\d+|\\.\\d+)%$/,\n    select: coverQuery\n  },\n  {\n    regexp: /^cover\\s+(\\d+|\\d+\\.\\d+|\\.\\d+)%\\s+in\\s+(my\\s+stats|(alt-)?\\w\\w)$/,\n    select: coverQuery\n  },\n  {\n    regexp: /^supports\\s+([\\w-]+)$/,\n    select: function (context, feature) {\n      env.loadFeature(browserslist.cache, feature)\n      var features = browserslist.cache[feature]\n      return Object.keys(features).reduce(function (result, version) {\n        var flags = features[version]\n        if (flags.indexOf('y') >= 0 || flags.indexOf('a') >= 0) {\n          result.push(version)\n        }\n        return result\n      }, [])\n    }\n  },\n  {\n    regexp: /^electron\\s+([\\d.]+)\\s*-\\s*([\\d.]+)$/i,\n    select: function (context, from, to) {\n      var fromToUse = normalizeElectron(from)\n      var toToUse = normalizeElectron(to)\n      if (!e2c[fromToUse]) {\n        throw new BrowserslistError('Unknown version ' + from + ' of electron')\n      }\n      if (!e2c[toToUse]) {\n        throw new BrowserslistError('Unknown version ' + to + ' of electron')\n      }\n      from = parseFloat(from)\n      to = parseFloat(to)\n      return Object.keys(e2c)\n        .filter(function (i) {\n          var parsed = parseFloat(i)\n          return parsed >= from && parsed <= to\n        })\n        .map(function (i) {\n          return 'chrome ' + e2c[i]\n        })\n    }\n  },\n  {\n    regexp: /^node\\s+([\\d.]+)\\s*-\\s*([\\d.]+)$/i,\n    select: function (context, from, to) {\n      var nodeVersions = jsReleases\n        .filter(function (i) {\n          return i.name === 'nodejs'\n        })\n        .map(function (i) {\n          return i.version\n        })\n      return nodeVersions\n        .filter(semverFilterLoose('>=', from))\n        .filter(semverFilterLoose('<=', to))\n        .map(function (v) {\n          return 'node ' + v\n        })\n    }\n  },\n  {\n    regexp: /^(\\w+)\\s+([\\d.]+)\\s*-\\s*([\\d.]+)$/i,\n    select: function (context, name, from, to) {\n      var data = checkName(name, context)\n      from = parseFloat(normalizeVersion(data, from) || from)\n      to = parseFloat(normalizeVersion(data, to) || to)\n      function filter (v) {\n        var parsed = parseFloat(v)\n        return parsed >= from && parsed <= to\n      }\n      return data.released.filter(filter).map(nameMapper(data.name))\n    }\n  },\n  {\n    regexp: /^electron\\s*(>=?|<=?)\\s*([\\d.]+)$/i,\n    select: function (context, sign, version) {\n      var versionToUse = normalizeElectron(version)\n      return Object.keys(e2c)\n        .filter(generateFilter(sign, versionToUse))\n        .map(function (i) {\n          return 'chrome ' + e2c[i]\n        })\n    }\n  },\n  {\n    regexp: /^node\\s*(>=?|<=?)\\s*([\\d.]+)$/i,\n    select: function (context, sign, version) {\n      var nodeVersions = jsReleases\n        .filter(function (i) {\n          return i.name === 'nodejs'\n        })\n        .map(function (i) {\n          return i.version\n        })\n      return nodeVersions\n        .filter(generateSemverFilter(sign, version))\n        .map(function (v) {\n          return 'node ' + v\n        })\n    }\n  },\n  {\n    regexp: /^(\\w+)\\s*(>=?|<=?)\\s*([\\d.]+)$/,\n    select: function (context, name, sign, version) {\n      var data = checkName(name, context)\n      var alias = browserslist.versionAliases[data.name][version]\n      if (alias) {\n        version = alias\n      }\n      return data.released\n        .filter(generateFilter(sign, version))\n        .map(function (v) {\n          return data.name + ' ' + v\n        })\n    }\n  },\n  {\n    regexp: /^(firefox|ff|fx)\\s+esr$/i,\n    select: function () {\n      return ['firefox 78']\n    }\n  },\n  {\n    regexp: /(operamini|op_mini)\\s+all/i,\n    select: function () {\n      return ['op_mini all']\n    }\n  },\n  {\n    regexp: /^electron\\s+([\\d.]+)$/i,\n    select: function (context, version) {\n      var versionToUse = normalizeElectron(version)\n      var chrome = e2c[versionToUse]\n      if (!chrome) {\n        throw new BrowserslistError(\n          'Unknown version ' + version + ' of electron'\n        )\n      }\n      return ['chrome ' + chrome]\n    }\n  },\n  {\n    regexp: /^node\\s+(\\d+)$/i,\n    select: nodeQuery\n  },\n  {\n    regexp: /^node\\s+(\\d+\\.\\d+)$/i,\n    select: nodeQuery\n  },\n  {\n    regexp: /^node\\s+(\\d+\\.\\d+\\.\\d+)$/i,\n    select: nodeQuery\n  },\n  {\n    regexp: /^current\\s+node$/i,\n    select: function (context) {\n      return [env.currentNode(resolve, context)]\n    }\n  },\n  {\n    regexp: /^maintained\\s+node\\s+versions$/i,\n    select: function (context) {\n      var now = Date.now()\n      var queries = Object.keys(jsEOL)\n        .filter(function (key) {\n          return (\n            now < Date.parse(jsEOL[key].end) &&\n            now > Date.parse(jsEOL[key].start) &&\n            isEolReleased(key)\n          )\n        })\n        .map(function (key) {\n          return 'node ' + key.slice(1)\n        })\n      return resolve(queries, context)\n    }\n  },\n  {\n    regexp: /^phantomjs\\s+1.9$/i,\n    select: function () {\n      return ['safari 5']\n    }\n  },\n  {\n    regexp: /^phantomjs\\s+2.1$/i,\n    select: function () {\n      return ['safari 6']\n    }\n  },\n  {\n    regexp: /^(\\w+)\\s+(tp|[\\d.]+)$/i,\n    select: function (context, name, version) {\n      if (/^tp$/i.test(version)) version = 'TP'\n      var data = checkName(name, context)\n      var alias = normalizeVersion(data, version)\n      if (alias) {\n        version = alias\n      } else {\n        if (version.indexOf('.') === -1) {\n          alias = version + '.0'\n        } else {\n          alias = version.replace(/\\.0$/, '')\n        }\n        alias = normalizeVersion(data, alias)\n        if (alias) {\n          version = alias\n        } else if (context.ignoreUnknownVersions) {\n          return []\n        } else {\n          throw new BrowserslistError(\n            'Unknown version ' + version + ' of ' + name\n          )\n        }\n      }\n      return [data.name + ' ' + version]\n    }\n  },\n  {\n    regexp: /^browserslist config$/i,\n    select: function (context) {\n      return browserslist(undefined, context)\n    }\n  },\n  {\n    regexp: /^extends (.+)$/i,\n    select: function (context, name) {\n      return resolve(env.loadQueries(context, name), context)\n    }\n  },\n  {\n    regexp: /^defaults$/i,\n    select: function (context) {\n      return resolve(browserslist.defaults, context)\n    }\n  },\n  {\n    regexp: /^dead$/i,\n    select: function (context) {\n      var dead = [\n        'ie <= 10',\n        'ie_mob <= 11',\n        'bb <= 10',\n        'op_mob <= 12.1',\n        'samsung 4'\n      ]\n      return resolve(dead, context)\n    }\n  },\n  {\n    regexp: /^(\\w+)$/i,\n    select: function (context, name) {\n      if (byName(name, context)) {\n        throw new BrowserslistError(\n          'Specify versions in Browserslist query for browser ' + name\n        )\n      } else {\n        throw unknownQuery(name)\n      }\n    }\n  }\n];\n\n// Get and convert Can I Use data\n\n(function () {\n  for (var name in agents) {\n    var browser = agents[name]\n    browserslist.data[name] = {\n      name: name,\n      versions: normalize(agents[name].versions),\n      released: normalize(agents[name].versions.slice(0, -3)),\n      releaseDate: agents[name].release_date\n    }\n    fillUsage(browserslist.usage.global, name, browser.usage_global)\n\n    browserslist.versionAliases[name] = { }\n    for (var i = 0; i < browser.versions.length; i++) {\n      var full = browser.versions[i]\n      if (!full) continue\n\n      if (full.indexOf('-') !== -1) {\n        var interval = full.split('-')\n        for (var j = 0; j < interval.length; j++) {\n          browserslist.versionAliases[name][interval[j]] = full\n        }\n      }\n    }\n  }\n\n  browserslist.versionAliases.op_mob['59'] = '58'\n}())\n\nmodule.exports = browserslist\n"]},"metadata":{},"sourceType":"script"}